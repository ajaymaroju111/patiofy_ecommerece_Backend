openapi: "3.1.0"
security:
  - BearerAuth: []
  - tokenAuth: []
tags:
  - name: Authentication_OAuth2.0
    description: operations related to OAuth20
  - name: users
    description: operations related to users
  - name: products
    description: operations related to products
  - name: Cart
    description: operations related to carts
  - name: Address
    description: operations related to Addresses
  - name: Contact
    description: operations related to Contact
servers:
  - url: http://localhost:3000
    description: Local Server
  - url: http://147.93.97.20:3000
    description: Production Server
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      
    tokenAuth:
      type: apiKey
      in: header
      name: token
      description: Authentication cookie containing the JWT token
info:
  title: Patiofy website Api
  description: API for patiofy website
  contact:
    name: support team
    url: http://Patiofy.com/contactUs
    email: ajaymaroju@techpixe.com
  termsOfServices: http://Patiofy.com/terms
  licence:
    name: MIT Licence
    url: http://opensource.org/licenses/MIT
paths:
  /patiofy/auth/user/google:
    get:
      summary: Redirect to Google OAuth
      description: Initiates the Google authentication process.
      tags:
        - Authentication_OAuth2.0
      responses:
        "302":
          description: Redirects to Google's authentication page

  /patiofy/auth/user/google/password:
    put:
      summary: Set a new password for the authenticated user
      description: Allows an authenticated user to update their password.
      tags:
        - Authentication_OAuth2.0
      security:
        - CookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                password:
                  type: string
                  format: password
                  example: "newSecurePassword123"
              required:
                - password
      responses:
        "200":
          description: Password updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Password updated successfully"
        "400":
          description: Bad request, possibly due to missing password field
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "password is required"
        "401":
          description: Unauthorized, authentication token is missing or invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Unauthorized"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/signup:
    post:
      summary: User Signup
      description: Creates a new user account. Sends a verification email after successful signup.
      tags:
        - users
      security:
        - CookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - firstname
                - lastname
                - email
                - password
              properties:
                firstname:
                  type: string
                  example: Ajay
                lastname:
                  type: string
                  example: Maroju
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
                password:
                  type: string
                  format: password
                  example: Ajay@110125
      responses:
        '200':
          description: User created and verification email sent
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: verification has been send to the email, please verify
        '401':
          description: Email already taken
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: email already taken, try another
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error occurred

  /patiofy/auth/user/verify:
    get:
      summary: Verify user account
      description: |
        This endpoint verifies a user's account by decoding the verification key sent as a query parameter. 
        It checks if the verification time has expired and updates the user's status to "active" upon successful verification.
      tags:
        - users
      parameters:
        - name: verificationKey
          in: query
          required: true
          schema:
            type: string
          description: The base64 encoded verification key sent to the user's email.
      responses:
        "200":
          description: Account verified successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Account verified successfully"
        "408":
          description: Verification time expired.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Time expired, please register"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/resend:
    post:
      summary: Resend Account Verification Email
      description: Sends a verification email with a new expiration time.
      tags:
        - users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                  example: "660e4f12a5b5f2b8c9b2a3d1"
      responses:
        200:
          description: Email sent successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Link sent to the email successfully."
        400:
          description: Bad request (invalid input).
        404:
          description: User not found.
        500:
          description: Internal Server Error.

  /patiofy/auth/user/signin:
    post:
      tags:
        - users
      summary: Sign in a user
      description: Authenticates a user with email and password, and returns a JWT token.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
                password:
                  type: string
                  example: Ajay@110125
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: login successfully
                  JWTtoken:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        '401':
          description: Authentication failed due to missing/invalid credentials
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: incorrect Email or password does not match
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/user/me/{id}:
    get:
      summary: Get user by ID
      description: |
        This endpoint retrieves a user's details by their unique ID.
      tags:
        - users
      security:
        - BearerAuth: [] 
      responses:
        "200":
          description: User details retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  user:
                    type: object
                    description: The user object containing details.
                    properties:
                      _id:
                        type: string
                        example: "65a2d5e2f1c3a12b34f6a789"
                      name:
                        type: string
                        example: "John Doe"
                      email:
                        type: string
                        example: "johndoe@example.com"
        "404":
          description: User not found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "User not found"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/update:
    put:
      summary: Update User Profile
      description: Updates the logged-in user's first name and last name.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstname:
                  type: string
                  example: John
                lastname:
                  type: string
                  example: Doe
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Profile updated successfully
                  updatedUser:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 609c0f58f3a9a2001510bdf1
                      firstname:
                        type: string
                        example: John
                      lastname:
                        type: string
                        example: Doe
                      email:
                        type: string
                        example: john.doe@example.com
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error occurred

  /patiofy/auth/user/password/forget:
     post:
      summary: Request password reset
      description: Sends a reset password link to the provided email address.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
      responses:
        '200':
          description: Password reset link sent
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: reset password link sent to the email
        '401':
          description: Incorrect email or validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: incorrect email
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Detailed error message

  /patiofy/auth/user/password/reset:
    post:
      summary: Reset user password
      description: |
        This endpoint allows a user to reset their password by providing their old password and a new password. 
        If the old password matches, the new password is updated, and the user is logged out.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                oldpassword:
                  type: string
                  description: The user's current password.
                newpassword:
                  type: string
                  description: The new password to set.
      responses:
        "200":
          description: Password updated successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "password updated successfully, Please Login"
        "400":
          description: Missing required fields.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "all fields are required"
        "401":
          description: Old password does not match.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "password does not match"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/products/{id}:
    get:
      summary: Get user's products
      description: |
        This endpoint retrieves all products associated with the authenticated user. 
        The products are populated with the user's details (first name, last name, and email).
      tags:
        - users
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Products retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  products:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          description: The product's unique ID.
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              description: The user's first name.
                            lastname:
                              type: string
                              description: The user's last name.
                            email:
                              type: string
                              format: email
                              description: The user's email address.
                        # Add other product fields as needed
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/delete:
    delete:
      summary: Delete user account
      description: |
        This endpoint allows a user to delete their account. 
        The user must provide their password for verification. 
        If the password is correct, the account is deleted, and the authentication token is cleared.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                password:
                  type: string
                  description: The user's password for verification.
                  example: Ajay@110125
      responses:
        "200":
          description: User account deleted successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "User account deleted successfully"
        "401":
          description: Password is required or incorrect.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "password is required or Incorrect password"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/products:
    get:
      summary: Get all products
      description: Retrieves a list of all available products.
      tags:
        - products
      security:
        - bearerAuth: []  # Optional auth; can be omitted if visitor access is allowed
      responses:
        '200':
          description: A list of products
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  products:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/user/filter:
    get:
      summary: Filter products
      description: |
        This endpoint allows filtering products based on query parameters such as name, price range, size, and fabric. 
        The results are sorted by price in ascending order and include only the specified fields (name, price, size, fabric).
      tags:
        - users
      security:
        - BearerAuth: []
      parameters:
        - name: name
          in: query
          description: Filter products by name (case-insensitive).
          required: false
          schema:
            type: string
        - name: price
          in: query
          description: Filter products by price range (format-min_max).
          required: false
          schema:
            type: string
        - name: size
          in: query
          description: Filter products by size.
          required: false
          schema:
            type: string
        - name: fabric
          in: query
          description: Filter products by fabric.
          required: false
          schema:
            type: string
      responses:
        "200":
          description: Products filtered successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  products:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          description: The product's name.
                        price:
                          type: number
                          description: The product's price.
                        size:
                          type: string
                          description: The product's size.
                        fabric:
                          type: string
                          description: The product's fabric.
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/logout:
    put:
      summary: Sign out user
      description: |
        This endpoint logs out the user by clearing the authentication token cookie. 
        The cookie is configured with `httpOnly`, `secure`, and `sameSite` attributes for security.
      tags:
        - users
      security:
        - BearerAuth: []
      responses:
        "200":
          description: User logged out successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "user logged out successfully"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  #product routes YAML  :

  /patiofy/auth/products/create:
    post:
      summary: Create a new post
      description: Adds a new product post with images.
      tags:
        - products
      security:
        - BearerAuth: []
      operationId: createPost
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Name of the product
                  example: "Cool T-Shirt"
                description:
                  type: string
                  description: Description of the product
                  example: "A cool t-shirt made from organic cotton."
                price:
                  type: number
                  format: float
                  description: Price of the product
                  example: 19.99
                size:
                  type: string
                  description: Size of the product
                  example: "M"
                fabric:
                  type: string
                  description: Fabric type of the product
                  example: "Cotton"
                images:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: Product images (required)
      responses:
        "200":
          description: Product added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Product added successfully"
        "401":
          description: Product images are required
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Product pics are required"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/products/{id}:
    get:
      summary: Retrieve a post by ID
      description: Fetches the details of a specific product post using its ID.
      tags:
        - products
      security:
        - BearerAuth: []
      operationId: getById
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the post to retrieve
          schema:
            type: string
      responses:
        "200":
          description: Post retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  post:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: "60d21b4667d0d8992e610c85"
                      name:
                        type: string
                        example: "Cool T-Shirt"
                      description:
                        type: string
                        example: "A cool t-shirt made from organic cotton."
                      price:
                        type: number
                        format: float
                        example: 19.99
                      size:
                        type: string
                        example: "M"
                      fabric:
                        type: string
                        example: "Cotton"
                      userId:
                        type: object
                        properties:
                          firstname:
                            type: string
                            example: "John"
                          lastname:
                            type: string
                            example: "Doe"
                          email:
                            type: string
                            example: "johndoe@example.com"
        "401":
          description: ID is required
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "ID is required"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"
    delete:
      summary: Delete a post
      description: Removes a post by its ID.
      tags:
        - products
      security:
        - CookieAuth: []
      operationId: deletePost
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the post to delete.
          schema:
            type: string
      responses:
        "200":
          description: Post deleted successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "post deleted successfully"
        "401":
          description: ID not received.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Id not received"
        "404":
          description: Post not found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Post not found"
        "500":
          description: Internal Server Error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"
    put:
      summary: Update an existing post
      description: Updates the details of a product post.
      tags:
        - products
      security:
        - CookieAuth: []
      operationId: updatePost
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the post to update
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Name of the product
                  example: "Updated T-Shirt"
                description:
                  type: string
                  description: Description of the product
                  example: "An updated description for the t-shirt."
                price:
                  type: number
                  format: float
                  description: Price of the product
                  example: 24.99
      responses:
        "200":
          description: Post updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Post updated successfully"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  # cart routes yaml :

  /patiofy/auth/products/cart:
    post:
      summary: Add product to cart
      tags:
        - Cart
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - productId
              properties:
                productId:
                  type: string
                  example: "6613a01ef3a482c4f2e32d77"
      responses:
        '200':
          description: Product successfully added to cart
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product added to cart successfully
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: product not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/products/cart/{id}:
    get:
      summary: Get cart by ID
      tags:
        - Cart
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          description: ID of the cart to retrieve
          schema:
            type: string
            example: "6613a01ef3a482c4f2e32d77"
      responses:
        '200':
          description: Successfully retrieved cart
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  cart:
                    type: object
                    properties:
                      _id:
                        type: string
                      userId:
                        $ref: '#/components/schemas/User'
                      productId:
                        $ref: '#/components/schemas/Post'
                      quantity:
                        type: integer
                        example: 2
                      price:
                        type: number
                        example: 199.99
                      status:
                        type: string
                        example: active
        '400':
          description: Bad request (missing cart ID)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Cart ID is required
        '404':
          description: Cart not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Cart not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
    put:
      summary: Update Cart Quantity
      description: Update the quantity of items in the cart by cart ID.
      tags:
        - Cart
      security:
        - CookieAuth: []
      parameters:
        - name: cartId
          in: path
          required: true
          description: The unique identifier of the cart.
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity:
                  type: integer
                  example: 3
      responses:
        200:
          description: Successfully updated the cart.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  cart:
                    type: object
                    example:
                      _id: "60d9c6e4b5f1b23a4c8d4f6b"
                      items:
                        - productId: "60d9c7e8b5f1b23a4c8d4f6c"
                          quantity: 3
                          price: 19.99
                      total: 59.97
        400:
          description: Bad request, invalid input.
        404:
          description: Cart not found.
        500:
          description: Internal Server Error.
    delete:
      summary: Delete Cart by ID
      description: Delete a shopping cart using its unique ID.
      tags:
        - Cart
      security:
        - CookieAuth: []
      parameters:
        - name: cartId
          in: path
          required: true
          description: The unique identifier of the cart to delete.
          schema:
            type: string
      responses:
        200:
          description: Successfully deleted the cart.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Cart deleted successfully."
        400:
          description: Bad request, invalid cart ID format.
        404:
          description: Cart not found.
        500:
          description: Internal Server Error.

  #Address routes YAML :

  /patiofy/auth/user/address:
    post:
      summary: Add Shipping Address
      description: Adds a new shipping address for the user.
      tags:
        - Address
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The product ID associated with the address.
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                country:
                  type: string
                  example: "USA"
                firstname:
                  type: string
                  example: "John"
                lastname:
                  type: string
                  example: "Doe"
                phone:
                  type: string
                  example: "+1234567890"
                address:
                  type: string
                  example: "1234 Elm Street"
                city:
                  type: string
                  example: "New York"
                state:
                  type: string
                  example: "NY"
      responses:
        200:
          description: Address added successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Address added successfully"
        400:
          description: Bad request, invalid input.
        401:
          description: Unauthorized, user not logged in.
        500:
          description: Internal Server Error.

  /patiofy/auth/user/address/{id}:
    get:
      summary: Get Address by ID
      tags:
        - Address
      parameters:
        - name: id
          in: path
          required: true
          description: MongoDB ObjectId of the address
          schema:
            type: string
            pattern: '^[a-fA-F0-9]{24}$'
      responses:
        '200':
          description: Successfully retrieved address
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  address:
                    $ref: '#/components/schemas/Address'
        '400':
          description: Invalid address ID format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Invalid address ID format
        '404':
          description: Address not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Address not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error message
    delete:
      summary: Delete Address by ID
      description: Delete a user's shipping address using its unique ID.
      tags:
        - Address
      security:
        - CookieAuth: []
      parameters:
        - name: addressId
          in: path
          required: true
          description: The unique identifier of the address to delete.
          schema:
            type: string
      responses:
        200:
          description: Successfully deleted the address.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Address deleted"
        400:
          description: Bad request, invalid address ID format.
        404:
          description: Address not found.
        500:
          description: Internal Server Error.
    put:
      summary: Update Address by ID
      description: Updates an address using its unique ID.
      tags:
        - Address
      security:
        - CookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The unique ID of the address to update.
          schema:
            type: string
            example: "661d9a2f5d5b6c001cbdb999"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                country:
                  type: string
                  example: "USA"
                firstname:
                  type: string
                  example: "John"
                lastname:
                  type: string
                  example: "Doe"
                phone:
                  type: string
                  example: "+1234567890"
                address:
                  type: string
                  example: "123 Main St"
                city:
                  type: string
                  example: "New York"
                state:
                  type: string
                  example: "NY"
      responses:
        200:
          description: Successfully updated the address.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "updated successfully"
        400:
          description: Bad request, invalid input.
        401:
          description: Unauthorized, user not logged in.
        404:
          description: Address not found.
        500:
          description: Internal Server Error.

  /patiofy/auth/user/address/all:
    get:
      summary: View All Addresses
      description: Retrieve all shipping addresses associated with the authenticated user.
      tags:
        - Address
      security:
        - BearerAuth: []
      responses:
        200:
          description: Successfully retrieved all addresses.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  all:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: "60d9c6e4b5f1b23a4c8d4f6b"
                        userId:
                          type: string
                          example: "60d9c7e8b5f1b23a4c8d4f6c"
                        email:
                          type: string
                          example: "user@example.com"
                        phone:
                          type: string
                          example: "+1234567890"
                        Shipping_Address:
                          type: object
                          properties:
                            country:
                              type: string
                              example: "USA"
                            firstname:
                              type: string
                              example: "John"
                            lastname:
                              type: string
                              example: "Doe"
                            address:
                              type: string
                              example: "1234 Elm Street"
                            city:
                              type: string
                              example: "New York"
                            state:
                              type: string
                              example: "NY"
        401:
          description: Unauthorized, user not logged in.
        500:
          description: Internal Server Error.

  #contact us form :

  /patiofy/auth/user/query:
    post:
      summary: Submit a Contact Us Message
      description: Allows an authenticated user to submit a message via the contact form.
      tags:
        - Contact
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstname:
                  type: string
                  example: "first_body."
                lastname:
                  type: string
                  example: "last_body."
                email:
                  type: string
                  example: "marojuajay111@gmail.com."
                phone:
                  type: string
                  example: "900000000"
                message:
                  type: string
                  example: "I have an issue with my order."
      responses:
        200:
          description: Successfully submitted the contact message.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Submitted successfully"
        400:
          description: Bad request, missing or invalid input.
        401:
          description: Unauthorized, user not logged in.
        500:
          description: Internal Server Error.
