openapi: "3.1.0"
security:
  - BearerAuth: []
  - tokenAuth: []
tags:
  - name: Authentication_OAuth2.0
    description: operations related to OAuth20
  - name: users
    description: operations related to users
  - name: products
    description: operations related to products
  - name: Cart
    description: operations related to carts
  - name: Address
    description: operations related to Addresses

servers:
  - url: http://localhost:3000
    description: Local Server
  - url: http://147.93.97.20:3000
    description: Production Server
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      
    tokenAuth:
      type: apiKey
      in: header
      name: token
      description: Authentication cookie containing the JWT token
info:
  title: Patiofy website Api
  description: API for patiofy website
  contact:
    name: support team
    url: http://Patiofy.com/contactUs
    email: ajaymaroju@techpixe.com
  termsOfServices: http://Patiofy.com/terms
  licence:
    name: MIT Licence
    url: http://opensource.org/licenses/MIT
paths:
  /patiofy/auth/user/google:
    get:
      summary: Redirect to Google OAuth
      description: Initiates the Google authentication process.
      tags:
        - Authentication_OAuth2.0
      responses:
        "302":
          description: Redirects to Google's authentication page

  /patiofy/auth/user/google/{id}:
    put:
      tags:
        - Authentication_OAuth2.0
      summary: Set a new password for a user
      description: Update the password for a user based on their ID.
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the user whose password is being updated.
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - password
              properties:
                newpassword:
                  type: string
                  example: Ajay@110125
      responses:
        '200':
          description: Password updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: password updated successfully
        '400':
          description: Missing or invalid password
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: password is required
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: object

  /patiofy/auth/user/signup:
    post:
      summary: User Signup
      description: Creates a new user account. Sends a verification email after successful signup.
      tags:
        - users
      security:
        - CookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - firstname
                - lastname
                - email
                - password
              properties:
                firstname:
                  type: string
                  example: Ajay
                lastname:
                  type: string
                  example: Maroju
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
                password:
                  type: string
                  format: password
                  example: Ajay@110125
      responses:
        '200':
          description: User created and verification email sent
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: verification has been send to the email, please verify
        '401':
          description: Email already taken
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: email already taken, try another
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error occurred

  /patiofy/auth/user/verify:
    get:
      summary: Verify user account
      description: |
        This endpoint verifies a user's account by decoding the verification key sent as a query parameter. 
        It checks if the verification time has expired and updates the user's status to "active" upon successful verification.
      tags:
        - users
      parameters:
        - name: verificationKey
          in: query
          required: true
          schema:
            type: string
          description: The base64 encoded verification key sent to the user's email.
      responses:
        "200":
          description: Account verified successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Account verified successfully"
        "408":
          description: Verification time expired.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Time expired, please register"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/resend:
    post:
      summary: Resend Account Verification Email
      description: Sends a verification email with a new expiration time.
      tags:
        - users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                  example: "660e4f12a5b5f2b8c9b2a3d1"
      responses:
        200:
          description: Email sent successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Link sent to the email successfully."
        400:
          description: Bad request (invalid input).
        404:
          description: User not found.
        500:
          description: Internal Server Error.

  /patiofy/auth/user/signin:
    post:
      tags:
        - users
      summary: Sign in a user
      description: Authenticates a user with email and password, and returns a JWT token.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
                password:
                  type: string
                  example: Ajay@110125
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: login successfully
                  JWTtoken:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        '401':
          description: Authentication failed due to missing/invalid credentials
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: incorrect Email or password does not match
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/user/me/{id}:
    get:
      summary: Get user by ID
      description: |
        This endpoint retrieves a user's details by their unique ID.
      tags:
        - users
      security:
        - BearerAuth: [] 
      responses:
        "200":
          description: User details retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  user:
                    type: object
                    description: The user object containing details.
                    properties:
                      _id:
                        type: string
                        example: "65a2d5e2f1c3a12b34f6a789"
                      name:
                        type: string
                        example: "John Doe"
                      email:
                        type: string
                        example: "johndoe@example.com"
        "404":
          description: User not found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "User not found"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/update:
    put:
      summary: Update User Profile
      description: Updates the logged-in user's first name and last name.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstname:
                  type: string
                  example: John
                lastname:
                  type: string
                  example: Doe
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Profile updated successfully
                  updatedUser:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 609c0f58f3a9a2001510bdf1
                      firstname:
                        type: string
                        example: John
                      lastname:
                        type: string
                        example: Doe
                      email:
                        type: string
                        example: john.doe@example.com
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error occurred

  /patiofy/auth/user/password/forget:
     post:
      summary: Request password reset
      description: Sends a reset password link to the provided email address.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
      responses:
        '200':
          description: Password reset link sent
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: reset password link sent to the email
        '401':
          description: Incorrect email or validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: incorrect email
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Detailed error message

  /patiofy/auth/user/password/setNew:
    put:
      summary: Set a new password for a user
      tags:
        - Authentication_OAuth2.0
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - newpassword
              properties:
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
                newpassword:
                  type: string
                  format: password
                  example: Ajay@110125

      responses:
        '200':
          description: Password updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: new password updated , please login
        '400':
          description: Missing email or new password
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: All fields are required
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal server Error
                  error:
                    type: string
                    example: Error message details

  /patiofy/auth/user/password/change:
    post:
      summary: Reset user password
      description: |
        This endpoint allows a user to reset their password by providing their old password and a new password. 
        If the old password matches, the new password is updated, and the user is logged out.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                oldpassword:
                  type: string
                  description: The user's current password.
                newpassword:
                  type: string
                  description: The new password to set.
      responses:
        "200":
          description: Password updated successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "password updated successfully, Please Login"
        "400":
          description: Missing required fields.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "all fields are required"
        "401":
          description: Old password does not match.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "password does not match"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/products/review/{id}:
    get:
      summary: Get product review by ID
      description: Retrieve the review for a product if it exists.
      tags:
        - Review
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: The ID of the product to retrieve the review for
      responses:
        '200':
          description: Review retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: review retrieved successfully
                  rate:
                    type: object
                    description: Review object
        '401':
          description: Product not found or unavailable
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: product is no longer available
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: object
                    description: Error object with details
    post:
      tags:
        - Review
      security:
        - BearerAuth: []
      summary: Submit a rating and review for a product
      description: Allows a logged-in user to rate a product (1-5 stars) with an optional review message. Prevents duplicate ratings.
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the product to be rated
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - rating
              properties:
                rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                  example: 5
      responses:
        '200':
          description: Rating submitted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "review added successfully"
                  rate:
                    type: object
                    description: Updated review object
        '400':
          description: Bad request (e.g., missing rating or duplicate rating)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  error:
                    type: string
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Internal Server Error"
                  error:
                    type: string

  /patiofy/auth/user/delete:
    delete:
      summary: Delete user account
      description: |
        This endpoint allows a user to delete their account. 
        The user must provide their password for verification. 
        If the password is correct, the account is deleted, and the authentication token is cleared.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                password:
                  type: string
                  description: The user's password for verification.
                  example: Ajay@110125
      responses:
        "200":
          description: User account deleted successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "User account deleted successfully"
        "401":
          description: Password is required or incorrect.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "password is required or Incorrect password"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/products/filter:
    get:
      tags:
        - products
      summary: Get filtered products with pagination
      description: |
        Retrieve a filtered and paginated list of products using various query parameters like category, price, discount, size, and fabric.
      parameters:
        - name: categories
          in: query
          required: false
          description: Filter by category (case-insensitive)
          schema:
            type: string
            example: shirts
        - name: price
          in: query
          required: false
          description: Price range filter in the format `min_max` (e.g., 100_500)
          schema:
            type: string
            example: 100_500
        - name: Discount
          in: query
          required: false
          description: Discount range filter in the format `min_max` (e.g., 10_50)
          schema:
            type: string
            example: 10_50
        - name: size
          in: query
          required: false
          description: Filter by size
          schema:
            type: string
            example: L
        - name: fabric
          in: query
          required: false
          description: Filter by fabric
          schema:
            type: string
            example: cotton
        - name: page
          in: query
          required: false
          description: Page number for pagination (default= 1)
          schema:
            type: integer
            example: 1
        - name: limit
          in: query
          required: false
          description: Number of products per page (default= 10)
          schema:
            type: integer
            example: 10
      responses:
        '200':
          description: Filtered products retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  filterproduct:
                    type: array
                    items:
                      type: object
                      properties:
                        products:
                          type: array
                          items:
                            type: object
                            properties:
                              category:
                                type: string
                                example: shirts
                              price:
                                type: number
                                example: 299
                              size:
                                type: string
                                example: M
                              fabric:
                                type: string
                                example: cotton
                              inStock:
                                type: boolean
                                example: true
                              discount:
                                type: number
                                example: 20
                              discountPrice:
                                type: number
                                example: 239
                              savedPrice:
                                type: number
                                example: 60
                        stockCounts:
                          type: array
                          items:
                            type: object
                            properties:
                              _id:
                                type: boolean
                                example: true
                              count:
                                type: number
                                example: 15
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/user/logout:
    put:
      summary: Sign out user
      description: |
        This endpoint logs out the user by clearing the authentication token cookie. 
        The cookie is configured with `httpOnly`, `secure`, and `sameSite` attributes for security.
      tags:
        - users
      security:
        - BearerAuth: []
      responses:
        "200":
          description: User logged out successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "user logged out successfully"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

#product routes YAML  :

  /patiofy/auth/products/:
  # get all list of products : 
    get:
      summary: Get all products with pagination
      tags:
        - products
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number for pagination
          required: false
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          description: Number of items per page
          required: false
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of products
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  totalPages:
                    type: integer
                    example: 5
                  data:
                    type: array
                    # items:
                    #   $ref: '#/components/schemas/Product'
        '404':
          description: Products not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  messsage:
                    type: string
                    example: products not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    
  /patiofy/auth/products/{id}:
    get:
      summary: Retrieve a product by ID
      description: Fetches the details of a specific product  using its ID.
      tags:
        - products
      security:
        - BearerAuth: []
      operationId: getById
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the product to retrieve
          schema:
            type: string
      responses:
        "200":
          description: product retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  post:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: "60d21b4667d0d8992e610c85"
                      name:
                        type: string
                        example: "Cool T-Shirt"
                      description:
                        type: string
                        example: "A cool t-shirt made from organic cotton."
                      price:
                        type: number
                        format: float
                        example: 19.99
                      size:
                        type: string
                        example: "M"
                      fabric:
                        type: string
                        example: "Cotton"
                      userId:
                        type: object
                        properties:
                          firstname:
                            type: string
                            example: "John"
                          lastname:
                            type: string
                            example: "Doe"
                          email:
                            type: string
                            example: "johndoe@example.com"
        "401":
          description: ID is required
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "ID is required"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  # cart routes yaml :

  /patiofy/auth/products/cart:
    post:
      summary: Add product to cart
      tags:
        - Cart
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - productId
              properties:
                productId:
                  type: string
                  example: "6613a01ef3a482c4f2e32d77"
      responses:
        '200':
          description: Product successfully added to cart
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product added to cart successfully
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: product not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/products/cart/{id}:
    get:
      summary: Get cart by ID
      tags:
        - Cart
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          description: ID of the cart to retrieve
          schema:
            type: string
            example: "6613a01ef3a482c4f2e32d77"
      responses:
        '200':
          description: Successfully retrieved cart
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  cart:
                    type: object
                    properties:
                      _id:
                        type: string
                      userId:
                        $ref: '#/components/schemas/User'
                      productId:
                        $ref: '#/components/schemas/Post'
                      quantity:
                        type: integer
                        example: 2
                      price:
                        type: number
                        example: 199.99
                      status:
                        type: string
                        example: active
        '400':
          description: Bad request (missing cart ID)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Cart ID is required
        '404':
          description: Cart not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Cart not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
    put:
      summary: Update Cart Quantity
      description: Update the quantity of items in the cart by cart ID.
      tags:
        - Cart
      security:
        - CookieAuth: []
      parameters:
        - name: cartId
          in: path
          required: true
          description: The unique identifier of the cart.
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity:
                  type: integer
                  example: 3
      responses:
        200:
          description: Successfully updated the cart.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  cart:
                    type: object
                    example:
                      _id: "60d9c6e4b5f1b23a4c8d4f6b"
                      items:
                        - productId: "60d9c7e8b5f1b23a4c8d4f6c"
                          quantity: 3
                          price: 19.99
                      total: 59.97
        400:
          description: Bad request, invalid input.
        404:
          description: Cart not found.
        500:
          description: Internal Server Error.
    delete:
      summary: Delete Cart by ID
      description: Delete a shopping cart using its unique ID.
      tags:
        - Cart
      security:
        - CookieAuth: []
      parameters:
        - name: cartId
          in: path
          required: true
          description: The unique identifier of the cart to delete.
          schema:
            type: string
      responses:
        200:
          description: Successfully deleted the cart.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Cart deleted successfully."
        400:
          description: Bad request, invalid cart ID format.
        404:
          description: Cart not found.
        500:
          description: Internal Server Error.

  #Address routes YAML :

  /patiofy/auth/user/address:
    post:
      summary: Add Shipping Address
      description: Adds a new shipping address for the user.
      tags:
        - Address
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The product ID associated with the address.
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                country:
                  type: string
                  example: "USA"
                firstname:
                  type: string
                  example: "John"
                lastname:
                  type: string
                  example: "Doe"
                phone:
                  type: string
                  example: "+1234567890"
                address:
                  type: string
                  example: "1234 Elm Street"
                city:
                  type: string
                  example: "New York"
                state:
                  type: string
                  example: "NY"
      responses:
        200:
          description: Address added successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Address added successfully"
        400:
          description: Bad request, invalid input.
        401:
          description: Unauthorized, user not logged in.
        500:
          description: Internal Server Error.

  /patiofy/auth/user/address/{id}:
    get:
      summary: Get Address by ID
      tags:
        - Address
      parameters:
        - name: id
          in: path
          required: true
          description: MongoDB ObjectId of the address
          schema:
            type: string
            pattern: '^[a-fA-F0-9]{24}$'
      responses:
        '200':
          description: Successfully retrieved address
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  address:
                    $ref: '#/components/schemas/Address'
        '400':
          description: Invalid address ID format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Invalid address ID format
        '404':
          description: Address not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Address not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error message
    delete:
      summary: Delete Address by ID
      description: Delete a user's shipping address using its unique ID.
      tags:
        - Address
      security:
        - CookieAuth: []
      parameters:
        - name: addressId
          in: path
          required: true
          description: The unique identifier of the address to delete.
          schema:
            type: string
      responses:
        200:
          description: Successfully deleted the address.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Address deleted"
        400:
          description: Bad request, invalid address ID format.
        404:
          description: Address not found.
        500:
          description: Internal Server Error.
    put:
      summary: Update Address by ID
      description: Updates an address using its unique ID.
      tags:
        - Address
      security:
        - CookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The unique ID of the address to update.
          schema:
            type: string
            example: "661d9a2f5d5b6c001cbdb999"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                country:
                  type: string
                  example: "USA"
                firstname:
                  type: string
                  example: "John"
                lastname:
                  type: string
                  example: "Doe"
                phone:
                  type: string
                  example: "+1234567890"
                address:
                  type: string
                  example: "123 Main St"
                city:
                  type: string
                  example: "New York"
                state:
                  type: string
                  example: "NY"
      responses:
        200:
          description: Successfully updated the address.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "updated successfully"
        400:
          description: Bad request, invalid input.
        401:
          description: Unauthorized, user not logged in.
        404:
          description: Address not found.
        500:
          description: Internal Server Error.

  /patiofy/auth/user/address/all:
    get:
      summary: View All Addresses
      description: Retrieve all shipping addresses associated with the authenticated user.
      tags:
        - Address
      security:
        - BearerAuth: []
      responses:
        200:
          description: Successfully retrieved all addresses.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  all:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: "60d9c6e4b5f1b23a4c8d4f6b"
                        userId:
                          type: string
                          example: "60d9c7e8b5f1b23a4c8d4f6c"
                        email:
                          type: string
                          example: "user@example.com"
                        phone:
                          type: string
                          example: "+1234567890"
                        Shipping_Address:
                          type: object
                          properties:
                            country:
                              type: string
                              example: "USA"
                            firstname:
                              type: string
                              example: "John"
                            lastname:
                              type: string
                              example: "Doe"
                            address:
                              type: string
                              example: "1234 Elm Street"
                            city:
                              type: string
                              example: "New York"
                            state:
                              type: string
                              example: "NY"
        401:
          description: Unauthorized, user not logged in.
        500:
          description: Internal Server Error.

  #contact us form :

  /patiofy/auth/user/query:
    post:
      summary: Submit a Contact Us Message
      description: Allows an authenticated user to submit a message via the contact form.
      tags:
        - ContactUs
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstname:
                  type: string
                  example: "first_body."
                lastname:
                  type: string
                  example: "last_body."
                email:
                  type: string
                  example: "marojuajay111@gmail.com."
                phone:
                  type: string
                  example: "900000000"
                message:
                  type: string
                  example: "I have an issue with my order."
      responses:
        200:
          description: Successfully submitted the contact message.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Submitted successfully"
        400:
          description: Bad request, missing or invalid input.
        401:
          description: Unauthorized, user not logged in.
        500:
          description: Internal Server Error.


# Admin calls :  

  /patiofy/auth/admin/product:
    post:
      summary: Create a new Product
      description: Adds a new product post with images.
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      operationId: createPost
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Name of the product
                  example: "Cool T-Shirt"
                description:
                  type: string
                  description: Description of the product
                  example: "A cool t-shirt made from organic cotton."
                price:
                  type: number
                  format: float
                  description: Price of the product
                  example: 19.99
                size:
                  type: string
                  description: Size of the product
                  example: "M"
                fabric:
                  type: string
                  description: Fabric type of the product
                  example: "Cotton"
                category:
                  type: string
                  description: category of the product
                  example: "Baby Swing"
                tags:
                  type: string
                  description: tags of the product
                  example: "Baby cradle, baby jhula"
                images:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: Product images (required)
      responses:
        "200":
          description: Product added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Product added successfully"
        "401":
          description: Product images are required
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Product pics are required"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error" 

  /patiofy/auth/admin/allproducts:                 
  # get all products which are in published
      get:
      summary: Get all products with pagination
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number for pagination
          required: false
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          description: Number of items per page
          required: false
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of products
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  totalPages:
                    type: integer
                    example: 5
                  data:
                    type: array
                    # items:
                    #   $ref: '#/components/schemas/Product'
        '404':
          description: Products not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  messsage:
                    type: string
                    example: products not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/product/{id}:
  # update product
    put:
      summary: Update an existing Product
      description: Updates the details of a product.
      tags:
        - Admin - products
      security:
        - CookieAuth: []
      operationId: updatePost
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the Product to update
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Name of the product
                  example: "Updated T-Shirt"
                description:
                  type: string
                  description: Description of the product
                  example: "An updated description for the t-shirt."
                price:
                  type: number
                  format: float
                  description: Price of the product
                  example: 24.99
      responses:
        "200":
          description: Product updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Product updated successfully"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"
    # Delete product
    delete:
      summary: Delete a Product
      description: Removes a Product by its ID.
      tags:
        - Admin - products
      security:
        - CookieAuth: []
      operationId: deletePost
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the Product to delete.
          schema:
            type: string
      responses:
        "200":
          description: Product deleted successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "post deleted successfully"
        "401":
          description: ID not received.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Id not received"
        "404":
          description: Post not found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Post not found"
        "500":
          description: Internal Server Error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"
    # get Product By ID
    get:
      summary: Retrieve a post by ID
      description: Fetches the details of a specific product post using its ID.
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      operationId: getById
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the post to retrieve
          schema:
            type: string
      responses:
        "200":
          description: Post retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  post:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: "60d21b4667d0d8992e610c85"
                      name:
                        type: string
                        example: "Cool T-Shirt"
                      description:
                        type: string
                        example: "A cool t-shirt made from organic cotton."
                      price:
                        type: number
                        format: float
                        example: 19.99
                      size:
                        type: string
                        example: "M"
                      fabric:
                        type: string
                        example: "Cotton"
                      userId:
                        type: object
                        properties:
                          firstname:
                            type: string
                            example: "John"
                          lastname:
                            type: string
                            example: "Doe"
                          email:
                            type: string
                            example: "johndoe@example.com"
        "401":
          description: ID is required
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "ID is required"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/admin/product/discount/{id}:
  # update Discount on a product
    put:
      tags:
        - Admin - Products - discounts
      security:
        - BearerAuth: []
      summary: Update product discount
      description: Allows admin to update the discount value of a product by product ID.
      parameters:
        - name: id
          in: path
          required: true
          description: MongoDB ObjectId of the product
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - setdiscount
              properties:
                setdiscount:
                  type: number
                  example: 20
                  description: Discount percentage to be set for the product
      responses:
        '200':
          description: Discount updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  succcess:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Discount updated successfully
                  current_discount:
                    type: number
                    example: 20
        '401':
          description: Invalid ID format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Invalid ID
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  succcess:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: product not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
  
  /patiofy/auth/admin/{id}:
     get:
      summary: Get user by ID
      description: |
        This endpoint retrieves a user's details by their unique ID.
      tags:
        - Admin
      security:
        - BearerAuth: [] 
      responses:
        "200":
          description: User details retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  user:
                    type: object
                    description: The user object containing details.
                    properties:
                      _id:
                        type: string
                        example: "65a2d5e2f1c3a12b34f6a789"
                      name:
                        type: string
                        example: "John Doe"
                      email:
                        type: string
                        example: "johndoe@example.com"
        "404":
          description: User not found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "User not found"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/admin/users:
  # get all users
    get:
      tags:
        - Admin - Users
      security:
        - BearerAuth: []
      summary: Get paginated list of users
      description: Retrieve a paginated list of users with optional page and limit query parameters.
      parameters:
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Number of users per page
      responses:
        '200':
          description: Users retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: users retrieved successfully
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 6607feab12345abcd1234567
                        firstname:
                          type: string
                          example: John
                        lastname:
                          type: string
                          example: Doe
                        email:
                          type: string
                          example: john@example.com
        '404':
          description: No users found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: products not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/user/{id}:
  # set user inactive
    put:
      tags:
        - Admin - Users
      security:
        - BearerAuth: []
      summary: Deactivate a user account
      description: Set a user's status to inactive by their ID.
      parameters:
        - name: id
          in: path
          required: true
          description: MongoDB ObjectId of the user
          schema:
            type: string
            example: 661234abcd1234567890efgh
      responses:
        '200':
          description: User account deactivated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: user account set inactive successfully
        '401':
          description: Invalid user ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Invalid Id
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: user not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
    # Get user by ID : 
    get:
      tags:
        - Admin - Users
      summary: Get user by ID
      description: Retrieve a single user's details using their MongoDB ObjectId.
      parameters:
        - name: id
          in: path
          required: true
          description: MongoDB ObjectId of the user
          schema:
            type: string
            example: 661234abcd1234567890efgh
      responses:
        '200':
          description: User retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: user retrieved successfully
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 661234abcd1234567890efgh
                      firstname:
                        type: string
                        example: Jane
                      lastname:
                        type: string
                        example: Doe
                      email:
                        type: string
                        example: jane@example.com
                      status:
                        type: string
                        example: active
        '401':
          description: Invalid ID format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: invalid ID
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  succecss:  # (Yes, typo preserved for realism  but fix it in code!)
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: user not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/myProduct:
    get:
      summary: Get products created by the logged-in user
      tags:
        - Admin
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number for pagination
          required: false
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          description: Number of items per page
          required: false
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of user's products
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  totalPages:
                    type: integer
                    example: 5
                  totalItems:
                    type: integer
                    example: 50
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
        '404':
          description: Products not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: products not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/product/publish/{id}:
    put:
      summary: Unpublish a product
      description: Sets a product's `ProductStatus` to 'unpublished' if it isn't already.
      tags:
        - Admin - products
      security:
        - CookieAuth: []
      parameters:
        - in: path
          name: id
          required: true
          description: MongoDB ObjectId of the product
          schema:
            type: string
      responses:
        '200':
          description: Product unpublished successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product set to unpublished successfully
        '204':
          description: Product is already unpublished (No Content)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No Content
                  error:
                    type: string
                    example: product is already in unpublished mode
        '400':
          description: Invalid ObjectId format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Bad Request
                  error:
                    type: string
                    example: invalid object ID
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Not Found
                  error:
                    type: string
                    example: item not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: An error message   

  /patiofy/auth/admin/product/unpublish/{id}:
    put:
      summary: Unpublish a product
      description: Sets the `ProductStatus` of a product to 'unpublished' if it is not already unpublished.
      tags:
        - Admin - products
      security:
        - CookieAuth: []
      parameters:
        - in: path
          name: id
          required: true
          description: MongoDB ObjectId of the product
          schema:
            type: string
      responses:
        '200':
          description: Product set to unpublished successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product set to unpublished successfully
        '204':
          description: Product is already unpublished (No Content)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No Content
                  error:
                    type: string
                    example: product is already in unpublished mode
        '400':
          description: Invalid ObjectId format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Bad Request
                  error:
                    type: string
                    example: invalid object ID
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Not Found
                  error:
                    type: string
                    example: item not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: An error message

  /patiofy/auth/admin/orders/inprogress:
    get:
      summary: Retrieve active orders (conformed, out_of_delivery)
      description: Retrieves orders that are currently active (conformed or out of delivery) and includes populated user and product details.
      tags:
        - Admin - Orders
      security:
        - CookieAuth: []
      responses:
        '200':
          description: Successfully retrieved active orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: in progress orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        status:
                          type: string
                          example: conformed
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: John
                            lastname:
                              type: string
                              example: Doe
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Product A
                            price:
                              type: number
                              example: 100
                            size:
                              type: string
                              example: M
                            discountPrice:
                              type: number
                              example: 80
        '404':
          description: No active orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No current active orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: An error message

  /patiofy/auth/admin/orders/cancelled:
    get:
      summary: Retrieve cancelled orders with pagination
      description: Retrieves cancelled orders with pagination (using `page` query parameter) and includes populated user and product details.
      tags:
        - Admin - Orders
      security:
        - CookieAuth: []
      parameters:
        - in: query
          name: page
          required: false
          description: The page number for pagination (default is 1).
          schema:
            type: integer
            default: 1
        - in: query
          name: limit
          required: false
          description: The number of items per page (default is 10).
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Successfully retrieved cancelled orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: cancelled orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        status:
                          type: string
                          example: cancelled
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: Jane
                            lastname:
                              type: string
                              example: Smith
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Product B
                            price:
                              type: number
                              example: 120
                            size:
                              type: string
                              example: L
                            discountPrice:
                              type: number
                              example: 100
        '404':
          description: No cancelled orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No cancelled active orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: An error message

  /patiofy/auth/admin/orders/refund:
    get:
      summary: Retrieve refunded orders
      description: Fetches all orders with a status of "refunded", including user and product details.
      tags:
        - Admin - Orders
      security:
        - CookieAuth: []
      responses:
        '200':
          description: Successfully retrieved refunded orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: refunded orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        status:
                          type: string
                          example: refunded
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: Alice
                            lastname:
                              type: string
                              example: Johnson
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Smart Watch
                            price:
                              type: number
                              example: 199.99
                            size:
                              type: string
                              example: Medium
                            discountPrice:
                              type: number
                              example: 149.99
        '404':
          description: No refunded orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No refunded orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: An error message

  /patiofy/auth/admin/orders/success:
    get:
      summary: Retrieve completed orders with pagination
      description: Fetches completed orders with pagination. Includes populated user and product details.
      tags:
        - Admin - Orders
      security:
        - CookieAuth: []
      parameters:
        - in: query
          name: page
          required: false
          description: Page number for pagination (default is 1)
          schema:
            type: integer
            default: 1
        - in: query
          name: limit
          required: false
          description: Number of items per page (default is 10)
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Successfully retrieved completed orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: completed orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 60f6c0d97c213e35b0e918bc
                        status:
                          type: string
                          example: completed
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: Adam
                            lastname:
                              type: string
                              example: West
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: T-Shirt
                            price:
                              type: number
                              example: 25.99
                            size:
                              type: string
                              example: L
                            discountPrice:
                              type: number
                              example: 19.99
        '404':
          description: No completed orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No completed orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error message

  /patiofy/auth/admin/payment/success:
    get:
      summary: Retrieve payment completed orders with pagination
      description: Retrieves paginated list of orders where payment status is 'paid', including populated user and product details.
      tags:
        - Admin - Orders
      security:
        - CookieAuth: []
      parameters:
        - in: query
          name: page
          required: false
          description: Page number for pagination (default is 1)
          schema:
            type: integer
            default: 1
        - in: query
          name: limit
          required: false
          description: Number of items per page (default is 10)
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Successfully retrieved paid orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: payment completed orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        payment_status:
                          type: string
                          example: paid
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: John
                            lastname:
                              type: string
                              example: Doe
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Wireless Headphones
                            price:
                              type: number
                              example: 99.99
                            size:
                              type: string
                              example: Standard
                            discountPrice:
                              type: number
                              example: 79.99
        '404':
          description: No paid orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No payment completed orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error message

  /patiofy/auth/admin/payment/pending:
    get:
      summary: Retrieve unpaid payment orders with pagination
      description: Retrieves a paginated list of orders with a payment status of 'unpaid', including populated user and product details.
      tags:
        - Admin - Orders
      security:
        - CookieAuth: []
      parameters:
        - in: query
          name: page
          required: false
          description: Page number for pagination (default is 1)
          schema:
            type: integer
            default: 1
        - in: query
          name: limit
          required: false
          description: Number of items per page (default is 10)
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Successfully retrieved unpaid payment orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: incompleted payment orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        payment_status:
                          type: string
                          example: unpaid
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: Jane
                            lastname:
                              type: string
                              example: Smith
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Bluetooth Speaker
                            price:
                              type: number
                              example: 45.99
                            size:
                              type: string
                              example: Compact
                            discountPrice:
                              type: number
                              example: 39.99
        '404':
          description: No unpaid orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No unpaid payment orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error message
    
    



































































