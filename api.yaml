openapi: "3.1.0"

tags:
  - name: Google_OAuth2.0 
    description: Google OAUTH2.0 
  - name: users
    description: operations related to users
  - name: products
    description: operations related to products
  - name: Cart
    description: operations related to carts
  - name: Address
    description: operations related to Addresses

servers:
  - url: http://localhost:3000
    description: Local Server
  - url: https://patiofy.smartaihr.com
    description: Production Server
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      
security:
  - BearerAuth: []

info:
  title: Patiofy website Api
  description: API for patiofy website
  contact:
    name: support team
    url: http://Patiofy.com/contactUs
    email: ajaymaroju@techpixe.com
  termsOfServices: http://Patiofy.com/terms
  licence:
    name: MIT Licence
    url: http://opensource.org/licenses/MIT

paths:
  /patiofy/auth/user/google:
    get:
      summary: Redirect to Google OAuth
      description: Initiates the Google authentication process.
      tags:
        - Google_OAuth2.0
      responses:
        "302":
          description: Redirects to Google's authentication page

  /patiofy/auth/user/google/{id}:
    put:
      tags:
        - Google_OAuth2.0
      summary: Set a new password for a user
      description: Update the password for a user based on their ID.
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the user whose password is being updated.
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - password
              properties:
                newpassword:
                  type: string
                  example: Ajay@110125
      responses:
        '200':
          description: Password updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: password updated successfully
        '400':
          description: Missing or invalid password
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: password is required
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: object

  /patiofy/auth/user/signup:
    post:
      summary: User Signup
      description: Creates a new user account. Sends a verification email after successful signup.
      tags:
        - users
      security:
        - CookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - firstname
                - lastname
                - email
                - password
              properties:
                firstname:
                  type: string
                  example: Ajay
                lastname:
                  type: string
                  example: Maroju
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
                password:
                  type: string
                  format: password
                  example: Ajay@110125
                istermsandConditions:
                  type: boolean
                  example: true
      responses:
        '200':
          description: User created and verification email sent
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: verification has been send to the email, please verify
        '401':
          description: Email already taken
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: email already taken, try another
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error occurred

  /patiofy/auth/user/verify:
    get:
      summary: Verify user account
      description: |
        This endpoint verifies a user's account by decoding the verification key sent as a query parameter. 
        It checks if the verification time has expired and updates the user's status to "active" upon successful verification.
      tags:
        - users
      parameters:
        - name: verificationKey
          in: query
          required: true
          schema:
            type: string
          description: The base64 encoded verification key sent to the user's email.
      responses:
        "200":
          description: Account verified successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Account verified successfully"
        "408":
          description: Verification time expired.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Time expired, please register"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/resend:
    post:
      summary: Send account verification email
      tags:
        - users
      description: Sends an account verification link to the specified email if the user exists.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
      responses:
        '200':
          description: Verification link sent successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: link send to the email successfully
        '400':
          description: Missing email in request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: email is required
                  error:
                    type: string
                    example: Bad Request
        '404':
          description: User not found with given email
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: user not found
                  error:
                    type: string
                    example: Not Found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some server error details

  /patiofy/auth/user/signin:
    post:
      tags:
        - users
      summary: Sign in a user
      description: Authenticates a user with email and password, and returns a JWT token.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
                password:
                  type: string
                  example: Ajay@110125
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: login successfully
                  JWTtoken:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        '401':
          description: Authentication failed due to missing/invalid credentials
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: incorrect Email or password does not match
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/user/me/{id}:
    get:
      summary: Get user by ID
      description: |
        This endpoint retrieves a user's details by their unique ID.
      tags:
        - users
      security:
        - BearerAuth: [] 
      responses:
        "200":
          description: User details retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  user:
                    type: object
                    description: The user object containing details.
                    properties:
                      _id:
                        type: string
                        example: "65a2d5e2f1c3a12b34f6a789"
                      name:
                        type: string
                        example: "John Doe"
                      email:
                        type: string
                        example: "johndoe@example.com"
        "404":
          description: User not found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "User not found"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/user/update:
    put:
      summary: Update User Profile
      description: Updates the logged-in user's first name and last name.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstname:
                  type: string
                  example: John
                lastname:
                  type: string
                  example: Doe
                phone:
                  type: number
                  example: 9000000000
                Address:
                  type: string
                  example: warangal, Telangana, India
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Profile updated successfully
                  updatedUser:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 609c0f58f3a9a2001510bdf1
                      firstname:
                        type: string
                        example: John
                      lastname:
                        type: string
                        example: Doe
                      email:
                        type: string
                        example: john.doe@example.com
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error occurred

  /patiofy/auth/user/password/forget:
     post:
      summary: Request password reset
      description: Sends a reset password link to the provided email address.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
      responses:
        '200':
          description: Password reset link sent
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: reset password link sent to the email
        '401':
          description: Incorrect email or validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: incorrect email
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Detailed error message

  /patiofy/auth/user/password/setNew:
    put:
      summary: Set a new password for a user
      tags:
        - Google_OAuth2.0
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - newpassword
              properties:
                email:
                  type: string
                  format: email
                  example: marojuajay111@gmail.com
                newpassword:
                  type: string
                  format: password
                  example: Ajay@110125

      responses:
        '200':
          description: Password updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: new password updated , please login
        '400':
          description: Missing email or new password
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: All fields are required
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal server Error
                  error:
                    type: string
                    example: Error message details

  /patiofy/auth/user/password/change:
    post:
      summary: Reset user password
      description: |
        This endpoint allows a user to reset their password by providing their old password and a new password. 
        If the old password matches, the new password is updated, and the user is logged out.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                oldpassword:
                  type: string
                  description: The user's current password.
                newpassword:
                  type: string
                  description: The new password to set.
      responses:
        "200":
          description: Password updated successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "password updated successfully, Please Login"
        "400":
          description: Missing required fields.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "all fields are required"
        "401":
          description: Old password does not match.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "password does not match"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/products/review/{id}:
    get:
      summary: Get product review by ID
      description: Retrieve the review for a product if it exists.
      tags:
        - Reviews (Products)
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: The ID of the product to retrieve the review for
      responses:
        '200':
          description: Review retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: review retrieved successfully
                  rate:
                    type: object
                    description: Review object
        '401':
          description: Product not found or unavailable
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: product is no longer available
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: object
                    description: Error object with details
    post:
      tags:
        - Reviews (Products)
      security:
        - BearerAuth: []
      summary: Submit a rating and review for a product
      description: Allows a logged-in user to rate a product (1-5 stars) with an optional review message. Prevents duplicate ratings.
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the product to be rated
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - rating
              properties:
                rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                  example: 5
      responses:
        '200':
          description: Rating submitted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "review added successfully"
                  rate:
                    type: object
                    description: Updated review object
        '400':
          description: Bad request (e.g., missing rating or duplicate rating)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  error:
                    type: string
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Internal Server Error"
                  error:
                    type: string

  /patiofy/auth/user/delete:
    delete:
      summary: Delete user account
      description: |
        This endpoint allows a user to delete their account. 
        The user must provide their password for verification. 
        If the password is correct, the account is deleted, and the authentication token is cleared.
      tags:
        - users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                password:
                  type: string
                  description: The user's password for verification.
                  example: Ajay@110125
      responses:
        "200":
          description: User account deleted successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "User account deleted successfully"
        "401":
          description: Password is required or incorrect.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "password is required or Incorrect password"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/products/filter:
     get:
      summary: Filter products with optional query parameters
      tags:
        - products
      parameters:
        - in: query
          name: categories
          schema:
            type: string
          description: Filter by category (partial match, case-insensitive)
        - in: query
          name: price
          schema:
            type: string
            example: "100_500"
          description: Price range filter in "min_max" format
        - in: query
          name: size
          schema:
            type: string
            example: "M"
          description: Filter by size
        - in: query
          name: fabric
          schema:
            type: string
            example: "Cotton"
          description: Filter by fabric
        - in: query
          name: Discount
          schema:
            type: string
            example: "10_50"
          description: Discount range in "min_max" format
        - in: query
          name: stock
          schema:
            type: string
            enum: [instock, outstock]
          description: Filter by stock availability
        - in: query
          name: page
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - in: query
          name: limit
          schema:
            type: integer
            default: 10
          description: Number of products per page
      responses:
        '200':
          description: Products retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  page:
                    type: integer
                    example: 1
                  totalpages:
                    type: integer
                    example: 5
                  cached:
                    type: boolean
                    example: false
                  filterproduct:
                    type: array
                    items:
                      type: object
                      properties:
                        products:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                              category:
                                type: string
                              price:
                                type: number
                              size:
                                type: string
                              fabric:
                                type: string
                              inStock:
                                type: string
                              discount:
                                type: number
                              discountPrice:
                                type: number
                              savedPrice:
                                type: number
                        instockProducts:
                          type: array
                          items:
                            type: object
                        outstockProducts:
                          type: array
                          items:
                            type: object
        '400':
          description: Bad Request (e.g., missing or invalid parameters)
        '404':
          description: No matching products found
        '500':
          description: Internal Server Error

  /patiofy/auth/products/search:
    get:
      summary: Search for products
      tags:
        - products
      parameters:
        - name: q
          in: query
          required: true
          description: The search query for product name, description, category, or tags.
          schema:
            type: string
      responses:
        '200':
          description: Successful search response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "search products received successfully"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "12345"
                        name:
                          type: string
                          example: "Product Name"
                        description:
                          type: string
                          example: "Product Description"
                        category:
                          type: string
                          example: "Category Name"
                        tags:
                          type: array
                          items:
                            type: string
                            example: "tag1"
        '404':
          description: Products not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "products not found"
                  error:
                    type: string
                    example: "Not Found"
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Internal Server Error"
                  error:
                    type: string
                    example: "Error details"

  /patiofy/auth/products/filternames:
     get:
      summary: Get available filter names
      description: Returns categories, sizes, and fabrics used for filtering products.
      tags:
        - products
      responses:
        '200':
          description: Successfully retrieved filter names
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  catogeries:
                    type: array
                    items:
                      type: string
                    example: ["Men", "Women", "Kids"]
                  size:
                    type: array
                    items:
                      type: string
                    example: ["S", "M", "L", "XL"]
                  fabric:
                    type: array
                    items:
                      type: string
                    example: ["Cotton", "Linen", "Polyester"]
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: object

  /patiofy/auth/products/stock:
    get:
      summary: Get products by stock status
      description: Retrieve a list of products that are either in stock or out of stock.
      tags:
        - products
      parameters:
        - name: stock
          in: query
          required: true
          description: Path of the product to retrieve
          example: instock
          enum: ['instock', 'outstock']
          schema:
            type: string
        - name: page
          in: query
          required: false
          description: Page number for pagination (default= 1)
          schema:
            type: integer
            example: 1
        - name: limit
          in: query
          required: false
          description: Number of products per page (default= 10)
          schema:
            type: integer
            example: 10
      responses:
        '200':
          description: Products retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: the instock products retrieved successfully
                  data:
                    type: array
        '400':
          description: Missing stock value in request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: stock keyword is required
                  error:
                    type: string
                    example: Bad Request
        '404':
          description: No products found for the given stock status
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Products are empty
                  error:
                    type: string
                    example: Not Found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error stack trace or message

  /patiofy/auth/user/logout:
    put:
      summary: Sign out user
      description: |
        This endpoint logs out the user by clearing the authentication token cookie. 
        The cookie is configured with `httpOnly`, `secure`, and `sameSite` attributes for security.
      tags:
        - users
      security:
        - BearerAuth: []
      responses:
        "200":
          description: User logged out successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "user logged out successfully"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

#✅✅✅✅✅✅✅✅ user product calls ✅✅✅✅✅✅✅✅✅✅✅✅

  /patiofy/auth/products/:
  # get all list of products : 
    get:
      summary: Get all products with pagination
      tags:
        - products
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number for pagination
          required: false
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          description: Number of items per page
          required: false
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of products
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  totalPages:
                    type: integer
                    example: 5
                  data:
                    type: array
                    # items:
                    #   $ref: '#/components/schemas/Product'
        '404':
          description: Products not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  messsage:
                    type: string
                    example: products not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/products/bestsellers:
    get:
      summary: Get best-selling products
      tags:
        - products
      security:
        - BearerAuth: []
      description: Returns a list of products with more than 500 sales, sorted by creation time. Supports pagination.
      responses:
        '200':
          description: Best-selling products retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: best sellers found successfully
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
        '404':
          description: No best sellers found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: best sellers are empty
                  error:
                    type: string
                    example: Not Found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error object

  /patiofy/auth/products/trending:
    get:
      summary: Get trending products
      tags:
        - products
      security:
        - BearerAuth: []
      description: Returns a list of products with more than 500 sales, sorted by creation time. Supports pagination.
      responses:
        '200':
          description: Best-selling products retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: best sellers found successfully
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
        '404':
          description: No best sellers found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: best sellers are empty
                  error:
                    type: string
                    example: Not Found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error object

  /patiofy/auth/products/{id}:
    get:
      summary: Retrieve a product by ID
      description: Fetches the details of a specific product  using its ID.
      tags:
        - products
      security:
        - BearerAuth: []
      operationId: getById
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the product to retrieve
          schema:
            type: string
      responses:
        "200":
          description: product retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  post:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: "60d21b4667d0d8992e610c85"
                      name:
                        type: string
                        example: "Cool T-Shirt"
                      description:
                        type: string
                        example: "A cool t-shirt made from organic cotton."
                      price:
                        type: number
                        format: float
                        example: 19.99
                      size:
                        type: string
                        example: "M"
                      fabric:
                        type: string
                        example: "Cotton"
                      userId:
                        type: object
                        properties:
                          firstname:
                            type: string
                            example: "John"
                          lastname:
                            type: string
                            example: "Doe"
                          email:
                            type: string
                            example: "johndoe@example.com"
        "401":
          description: ID is required
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "ID is required"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/products/latest:
    get:
      summary: Get the latest 6 product collections
      tags:
        - products
      responses:
        '200':
          description: Latest product collections retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: collection retrieved successfully
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 661f97f1426fa339c43cb3e7
                        name:
                          type: string
                          example: Cotton Shirt
                        price:
                          type: number
                          example: 29.99
                        discountPrice:
                          type: number
                          example: 24.99
                        category:
                          type: string
                          example: Men's Wear
                        createdAt:
                          type: string
                          format: date-time
                          example: "2025-04-24T09:45:23.000Z"
        '404':
          description: No collections found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Collections are empty
                  error:
                    type: string
                    example: Not Found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: {}

#✅✅✅✅✅✅✅✅✅✅  user cart routes ✅✅✅✅✅✅✅✅✅✅

  /patiofy/auth/products/carts/mycarts:
    get:
      summary: Get all carts (paginated)
      description: Retrieves a  list of cart items.
      tags:
        - Cart
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Cart retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  succcess:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: cart retrieved successfully
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        userId:
                          type: string
                        productId:
                          type: string
                        price:
                          type: number
                        cartImages:
                          type: array
                          items:
                            type: object
        '404':
          description: Carts are empty
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: cats are empty
                  error:
                    type: string
                    example: Not Found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Intenal Server Error
                  error:
                    type: string
                    example: Some error details

  /patiofy/auth/products/cart/{id}:
    post:
      tags:
        - Cart
      security:
        - BearerAuth: []
      summary: Add a product to the cart
      description: Adds a product with a specific size and quantity to the user's cart. If already present, it updates the quantity.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Product ID (MongoDB ObjectId)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - quantity
                - size
              properties:
                quantity:
                  type: integer
                  example: 2
                size:
                  type: string
                  example: "M"
      responses:
        '200':
          description: Product added or updated in cart successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: cart quantity updated successfully
                  data:
                    type: object
                    description: Updated cart data
        '400':
          description: Invalid input or request
        '401':
          description: Product out of stock or invalid quantity
        '404':
          description: Product or matrix not found
        '500':
          description: Internal Server Error
    get:
      summary: Get cart by ID
      tags:
        - Cart
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          description: ID of the cart to retrieve
          schema:
            type: string
            example: "6613a01ef3a482c4f2e32d77"
      responses:
        '200':
          description: Successfully retrieved cart
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  cart:
                    type: object
                    properties:
                      _id:
                        type: string
                      userId:
                        $ref: '#/components/schemas/User'
                      productId:
                        $ref: '#/components/schemas/Post'
                      quantity:
                        type: integer
                        example: 2
                      price:
                        type: number
                        example: 199.99
                      status:
                        type: string
                        example: active
        '400':
          description: Bad request (missing cart ID)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Cart ID is required
        '404':
          description: Cart not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Cart not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
    put:
      summary: Update cart item quantity
      tags:
        - Cart
      security:
        - BearerAuth: []
      description: Updates the quantity of a specific item in the cart using its ID.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: ID of the cart item to update
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - quantity
              properties:
                quantity:
                  type: integer
                  example: 2
      responses:
        '200':
          description: Cart item updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Quantity updated successfully
                  data:
                    $ref: '#/components/schemas/CartItem'
        '400':
          description: Invalid cart ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: invalid cart ID
                  error:
                    type: string
                    example: Bad Request
        '404':
          description: Cart item not found or update failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: error occurred in updation
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error object
    delete:
      summary: Delete Cart by ID
      description: Delete a shopping cart using its unique ID.
      tags:
        - Cart
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The unique identifier of the cart to delete.
          schema:
            type: string
      responses:
        200:
          description: Successfully deleted the cart.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Cart deleted successfully."
        400:
          description: Bad request, invalid cart ID format.
        404:
          description: Cart not found.
        500:
          description: Internal Server Error.

#✅✅✅✅✅✅✅  user Address calls ✅✅✅✅✅✅✅✅✅✅

  /patiofy/auth/user/address:
    post:
      summary: Add a new user address
      description: Adds a new address to the authenticated user's address list.
      tags:
        - Address
      security:
         - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - firstname
                - lastname
                - address
                - city
                - state
                - country
              properties:
                firstname:
                  type: string
                  example: John
                lastname:
                  type: string
                  example: Doe
                address:
                  type: string
                  example: 123 Main St
                city:
                  type: string
                  example: Springfield
                state:
                  type: string
                  example: Illinois
                country:
                  type: string
                  example: USA
      responses:
        '200':
          description: Address added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: address added successfully
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: object
                    description: Error details

  /patiofy/auth/user/address/{id}:
    get:
      summary: Get Address by ID
      tags:
        - Address
      security:
         - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: MongoDB ObjectId of the address
          schema:
            type: string
            pattern: '^[a-fA-F0-9]{24}$'
      responses:
        '200':
          description: Successfully retrieved address
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  address:
                    $ref: '#/components/schemas/Address'
        '400':
          description: Invalid address ID format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Invalid address ID format
        '404':
          description: Address not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Address not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error message
    delete:
      summary: Delete Address by ID
      description: Delete a user's shipping address using its unique ID.
      tags:
        - Address
      security:
         - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The unique identifier of the address to delete.
          schema:
            type: string
      responses:
        200:
          description: Successfully deleted the address.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Address deleted"
        400:
          description: Bad request, invalid address ID format.
        404:
          description: Address not found.
        500:
          description: Internal Server Error.
    put:
      summary: Update an existing user address
      description: Updates an address by its ID for the authenticated user.
      tags:
        - Address
      security:
         - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the address to update
          schema:
            type: string
            example: 6629a0cfb5f7d02346f0f44e
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstname:
                  type: string
                  example: Jane
                lastname:
                  type: string
                  example: Smith
                address:
                  type: string
                  example: 456 Elm Street
                city:
                  type: string
                  example: Metropolis
                state:
                  type: string
                  example: NY
                country:
                  type: string
                  example: USA
      responses:
        '200':
          description: Address updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Address updated successfully
                  data:
                    type: object
                    description: The updated address
                    properties:
                      _id:
                        type: string
                        example: 6629a0cfb5f7d02346f0f44e
                      userId:
                        type: string
                        example: 661fabcde1234567890a1b2c
                      firstname:
                        type: string
                        example: Jane
                      lastname:
                        type: string
                        example: Smith
                      address:
                        type: string
                        example: 456 Elm Street
                      city:
                        type: string
                        example: Metropolis
                      state:
                        type: string
                        example: NY
                      country:
                        type: string
                        example: USA
        '400':
          description: Invalid Address ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: invalid Address ID
                  error:
                    type: string
                    example: Bad Request
        '404':
          description: Address not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Address not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: object

  /patiofy/auth/user/address/list:
    get:
      summary: Get paginated list of user addresses
      tags:
        - Address
      security:
         - BearerAuth: []
      responses:
        '200':
          description: Successfully retrieved user addresses
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  currentpage:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  total:
                    type: integer
                    example: 3
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: "660f6b8f8eab0b001efc2f15"
                        userId:
                          type: string
                          example: "660f6b8f8eab0b001efc2f10"
                        email:
                          type: string
                          example: "user@example.com"
                        phone:
                          type: string
                          example: "9876543210"
                        Shipping_Adderss:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: "John"
                            lastname:
                              type: string
                              example: "Doe"
                            Street_Address:
                              type: string
                              example: "123 Main St"
                            village:
                              type: string
                              example: "Example Village"
                            zipcode:
                              type: string
                              example: "123456"
                            Mandal:
                              type: string
                              example: "Example Mandal"
                            state:
                              type: string
                              example: "Karnataka"
                            country:
                              type: string
                              example: "India"
        '404':
          description: User not found or address list is empty
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: user not found
                  error:
                    type: string
                    example: Not Found
        '500':
          description: Server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
        401:
          description: Unauthorized, user not logged in.
        500:
          description: Internal Server Error.

#✅✅✅✅✅✅✅✅ user Query form ✅✅✅✅✅✅✅✅✅✅✅

  /patiofy/auth/user/query:
    post:
      summary: Submit a Contact Us Message
      description: Allows an authenticated user to submit a message via the contact form.
      tags:
        - ContactUs
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstname:
                  type: string
                  example: "first_body."
                lastname:
                  type: string
                  example: "last_body."
                email:
                  type: string
                  example: "marojuajay111@gmail.com."
                phone:
                  type: string
                  example: "900000000"
                message:
                  type: string
                  example: "I have an issue with my order."
      responses:
        200:
          description: Successfully submitted the contact message.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Submitted successfully"
        400:
          description: Bad request, missing or invalid input.
        401:
          description: Unauthorized, user not logged in.
        500:
          description: Internal Server Error.


#✅✅✅✅✅✅✅✅ Admin products calls ✅✅✅✅✅✅✅✅✅

  /patiofy/auth/admin/product:
   post:
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      summary: Create a new product
      description: Creates a new product with images, tags, and viewIn configuration.
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - name
                - description
                - viewIn
                - ProductStatus
                - tags
                - stock
                - images
              properties:
                name:
                  type: string
                  example: Summer Dress
                description:
                  type: string
                  example: Lightweight floral summer dress
                fabric:
                  type: string
                  example: Cotton
                category:
                  type: string
                  example: Women
                tags:
                  type: string
                  description: Comma-separated tags
                  example: summer,dress,floral
                viewIn:
                  type: string
                  description: JSON array as string, e.g., '["new_collection", "trending"]'
                  example: "[\"new_collection\", \"trending\"]"
                ProductStatus:
                  type: string
                  example: active
                stock:
                  type: integer
                  example: 100
                images:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: Array of product image files
      responses:
        '200':
          description: Product created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Product created successfully
                  data:
                    type: object
                    description: Created product object
        '400':
          description: Bad Request - Missing or invalid input
        '500':
          description: Internal Server Error
 
  /patiofy/auth/admin/allproducts:                 
  # get all products which are in published
    get:
      summary: Get all products with pagination
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number for pagination
          required: false
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          description: Number of items per page
          required: false
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of products
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  totalPages:
                    type: integer
                    example: 5
                  data:
                    type: array
                    # items:
                    #   $ref: '#/components/schemas/Product'
        '404':
          description: Products not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  messsage:
                    type: string
                    example: products not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/product/{id}:
  # update product
    patch:
      summary: Update a product
      description: Updates product details. Only fields provided in the request body will be updated.
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The ID of the product to update
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: jhula swing
                description:
                  type: string
                  example: high quality premium swing
                price:
                  type: number
                  example: 50000
                size:
                  type: string
                  example: L
                fabric:
                  type: string
                  example: cotton
                category:
                  type: string
                  example: jhula
                rating:
                  type: number
                  example: 5
                tags:
                  type: array
                  items:
                    type: string
                  example: ["casual", "summer"]
                discount:
                  type: number
                  example: 30
                viewIn:
                  type: array
                  items:
                    type: string
                  example: ['new_collection', 'best_seller']
                ProductStatus:
                  type: string
                  example: unpublished
                stock:
                  type: integer
                  example: instock
      responses:
        '200':
          description: Product updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    $ref: '#/components/schemas/Product'
        '400':
          description: Invalid ID or bad request
        '404':
          description: Product not found
        '500':
          description: Internal server error
    #updating the images : 
    put:
      summary: Update product images
      description: Deletes old images and uploads new ones for a given product.
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The ID of the product
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                images:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: Multiple image files to upload
      responses:
        '200':
          description: Product images updated successfully
        '400':
          description: Invalid request or ID
        '404':
          description: Product not found
        '500':
          description: Internal server error
    # Delete product
    delete:
      summary: Delete a Product
      description: Removes a Product by its ID.
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      operationId: deletePost
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the Product to delete.
          schema:
            type: string
      responses:
        "200":
          description: Product deleted successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "post deleted successfully"
        "401":
          description: ID not received.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Id not received"
        "404":
          description: Post not found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Post not found"
        "500":
          description: Internal Server Error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"
    # get Product By ID
    get:
      summary: Retrieve a post by ID
      description: Fetches the details of a specific product post using its ID.
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      operationId: getById
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the post to retrieve
          schema:
            type: string
      responses:
        "200":
          description: Post retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  post:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: "60d21b4667d0d8992e610c85"
                      name:
                        type: string
                        example: "Cool T-Shirt"
                      description:
                        type: string
                        example: "A cool t-shirt made from organic cotton."
                      price:
                        type: number
                        format: float
                        example: 19.99
                      size:
                        type: string
                        example: "M"
                      fabric:
                        type: string
                        example: "Cotton"
                      userId:
                        type: object
                        properties:
                          firstname:
                            type: string
                            example: "John"
                          lastname:
                            type: string
                            example: "Doe"
                          email:
                            type: string
                            example: "johndoe@example.com"
        "401":
          description: ID is required
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "ID is required"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Internal Server Error"

  /patiofy/auth/admin/product/discount/{id}:
  # update Discount on a product
    put:
      tags:
        - Admin - Products - discounts
      security:
        - BearerAuth: []
      summary: Update product discount
      description: Allows admin to update the discount value of a product by product ID.
      parameters:
        - name: id
          in: path
          required: true
          description: MongoDB ObjectId of the product
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - setdiscount
              properties:
                setdiscount:
                  type: number
                  example: 20
                  description: Discount percentage to be set for the product
      responses:
        '200':
          description: Discount updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  succcess:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Discount updated successfully
                  current_discount:
                    type: number
                    example: 20
        '401':
          description: Invalid ID format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Invalid ID
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  succcess:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: product not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/product/undiscount/{id}:
    put:
      summary: Remove discount from a product
      tags:
        - Admin - Products - discounts
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the product to update
          schema:
            type: string
      responses:
        '200':
          description: Discount removed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  succcess:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Discount updated successfully
                  current_discount:
                    type: number
                    example: 0
        '401':
          description: Invalid product ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Invalid ID
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  succcess:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: product not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string  


  /patiofy/auth/admin/users:
  # get all users
    get:
      tags:
        - Admin - Users
      security:
        - BearerAuth: []
      summary: Get paginated list of users
      description: Retrieve a paginated list of users with optional page and limit query parameters.
      parameters:
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Number of users per page
      responses:
        '200':
          description: Users retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: users retrieved successfully
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 6607feab12345abcd1234567
                        firstname:
                          type: string
                          example: John
                        lastname:
                          type: string
                          example: Doe
                        email:
                          type: string
                          example: john@example.com
        '404':
          description: No users found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: products not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/user/{id}:
  # set user inactive
    put:
      tags:
        - Admin - Users
      security:
        - BearerAuth: []
      summary: Deactivate a user account
      description: Set a user's status to inactive by their ID.
      parameters:
        - name: id
          in: path
          required: true
          description: MongoDB ObjectId of the user
          schema:
            type: string
            example: 661234abcd1234567890efgh
      responses:
        '200':
          description: User account deactivated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: user account set inactive successfully
        '401':
          description: Invalid user ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Invalid Id
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: user not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
    # Get user by ID : 
    get:
      tags:
        - Admin - Users
      summary: Get user by ID
      description: Retrieve a single user's details using their MongoDB ObjectId.
      parameters:
        - name: id
          in: path
          required: true
          description: MongoDB ObjectId of the user
          schema:
            type: string
            example: 661234abcd1234567890efgh
      responses:
        '200':
          description: User retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: user retrieved successfully
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 661234abcd1234567890efgh
                      firstname:
                        type: string
                        example: Jane
                      lastname:
                        type: string
                        example: Doe
                      email:
                        type: string
                        example: jane@example.com
                      status:
                        type: string
                        example: active
        '401':
          description: Invalid ID format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: invalid ID
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  succecss:  # (Yes, typo preserved for realism — but fix it in code!)
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: user not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/myProduct:
    get:
      summary: Get products created by the logged-in user
      tags:
        - Admin
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number for pagination
          required: false
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          description: Number of items per page
          required: false
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of user's products
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  totalPages:
                    type: integer
                    example: 5
                  totalItems:
                    type: integer
                    example: 50
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
        '404':
          description: Products not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: products not found
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/product/publish/{id}:
    put:
      summary: Set a product's status to "published"
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            example: "6610f7b5b8eab4abc1234567"
          description: The ID of the product to update
      responses:
        '200':
          description: Product published successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product set to published successfully
        '204':
          description: Product already in published status
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No Content
                  error:
                    type: string
                    example: product is already in published mode
        '400':
          description: Invalid product ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Bad Request
                  error:
                    type: string
                    example: invalid object ID
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Not Found
                  error:
                    type: string
                    example: item not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/product/viewin/{id}:
    put:
      summary: Set a product's viewIn to "new_collection || best_seller || both"
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            example: "6610f7b5b8eab4abc1234567"
          description: The ID of the product to update
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - viewin
              properties:
                viewin:
                  type: string
                  example: "new_collection"
      responses:
        '200':
          description: Product published successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product set to published successfully
        '204':
          description: Product already in published status
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No Content
                  error:
                    type: string
                    example: product is already in published mode
        '400':
          description: Invalid product ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Bad Request
                  error:
                    type: string
                    example: invalid object ID
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Not Found
                  error:
                    type: string
                    example: item not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/product/unpublish/{id}:
    put:
      summary: Unpublish a product
      description: Sets the `ProductStatus` of a product to 'unpublished' if it is not already unpublished.
      tags:
        - Admin - products
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          description: MongoDB ObjectId of the product
          schema:
            type: string
      responses:
        '200':
          description: Product set to unpublished successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product set to unpublished successfully
        '204':
          description: Product is already unpublished (No Content)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No Content
                  error:
                    type: string
                    example: product is already in unpublished mode
        '400':
          description: Invalid ObjectId format
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Bad Request
                  error:
                    type: string
                    example: invalid object ID
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Not Found
                  error:
                    type: string
                    example: item not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: An error message

  /patiofy/auth/admin/orders/recent:
    get:
      summary: Retrieve active orders (conformed, out_of_delivery)
      description: Retrieves orders that are currently active (conformed or out of delivery) and includes populated user and product details.
      tags:
        - Admin - (Orders statistics)
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Successfully retrieved active orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: in progress orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        status:
                          type: string
                          example: conformed
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: John
                            lastname:
                              type: string
                              example: Doe
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Product A
                            price:
                              type: number
                              example: 100
                            size:
                              type: string
                              example: M
                            discountPrice:
                              type: number
                              example: 80
        '404':
          description: No active orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No current active orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: An error message

  /patiofy/auth/admin/orders/all:
    get:
      summary: Retrieve cancelled orders with pagination
      description: Retrieves cancelled orders with pagination (using `page` query parameter) and includes populated user and product details.
      tags:
        - Admin - (Orders statistics)
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: page
          required: false
          description: The page number for pagination (default is 1).
          schema:
            type: integer
            default: 1
        - in: query
          name: limit
          required: false
          description: The number of items per page (default is 10).
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Successfully retrieved cancelled orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: cancelled orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        status:
                          type: string
                          example: cancelled
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: Jane
                            lastname:
                              type: string
                              example: Smith
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Product B
                            price:
                              type: number
                              example: 120
                            size:
                              type: string
                              example: L
                            discountPrice:
                              type: number
                              example: 100
        '404':
          description: No cancelled orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No cancelled active orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: An error message

  /patiofy/auth/admin/orders/refund:
    get:
      summary: Retrieve refunded orders
      description: Fetches all orders with a status of "refunded", including user and product details.
      tags:
        - Admin - (Orders statistics)
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Successfully retrieved refunded orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: refunded orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        status:
                          type: string
                          example: refunded
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: Alice
                            lastname:
                              type: string
                              example: Johnson
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Smart Watch
                            price:
                              type: number
                              example: 199.99
                            size:
                              type: string
                              example: Medium
                            discountPrice:
                              type: number
                              example: 149.99
        '404':
          description: No refunded orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No refunded orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: An error message

  /patiofy/auth/admin/orders/requested/cancel:
    get:
      summary: Retrieve completed orders with pagination
      description: Fetches completed orders with pagination. Includes populated user and product details.
      tags:
        - Admin - (Orders statistics)
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: page
          required: false
          description: Page number for pagination (default is 1)
          schema:
            type: integer
            default: 1
        - in: query
          name: limit
          required: false
          description: Number of items per page (default is 10)
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Successfully retrieved completed orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: completed orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 60f6c0d97c213e35b0e918bc
                        status:
                          type: string
                          example: completed
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: Adam
                            lastname:
                              type: string
                              example: West
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: T-Shirt
                            price:
                              type: number
                              example: 25.99
                            size:
                              type: string
                              example: L
                            discountPrice:
                              type: number
                              example: 19.99
        '404':
          description: No completed orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No completed orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error message

  /patiofy/auth/admin/orders/pending:
    get:
      summary: Get all pending orders (paginated)
      tags:
        - Admin - (Orders statistics)
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          required: false
          description: Page number for pagination
          schema:
            type: integer
            default: 1
      responses:
        '200':
          description: Successfully retrieved orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  page:
                    type: integer
                    example: 1
                  totla_items:
                    type: integer
                    example: 10
                  message:
                    type: string
                    example: completed orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                            lastname:
                              type: string
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                            price:
                              type: number
                            size:
                              type: string
                            discountPrice:
                              type: number
        '404':
          description: No completed orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No completed orders
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/admin/payment/success:
    get:
      summary: Retrieve payment completed orders with pagination
      description: Retrieves paginated list of orders where payment status is 'paid', including populated user and product details.
      tags:
        - Admin - (Orders statistics)
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: page
          required: false
          description: Page number for pagination (default is 1)
          schema:
            type: integer
            default: 1
        - in: query
          name: limit
          required: false
          description: Number of items per page (default is 10)
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Successfully retrieved paid orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: payment completed orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        payment_status:
                          type: string
                          example: paid
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: John
                            lastname:
                              type: string
                              example: Doe
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Wireless Headphones
                            price:
                              type: number
                              example: 99.99
                            size:
                              type: string
                              example: Standard
                            discountPrice:
                              type: number
                              example: 79.99
        '404':
          description: No paid orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No payment completed orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error message

  /patiofy/auth/admin/payment/pending:
    get:
      summary: Retrieve unpaid payment orders with pagination
      description: Retrieves a paginated list of orders with a payment status of 'unpaid', including populated user and product details.
      tags:
        - Admin - (Orders statistics)
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: page
          required: false
          description: Page number for pagination (default is 1)
          schema:
            type: integer
            default: 1
        - in: query
          name: limit
          required: false
          description: Number of items per page (default is 10)
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Successfully retrieved unpaid payment orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: incompleted payment orders are retrieved
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 607c035c9b1e8b1c8e6a44b8
                        payment_status:
                          type: string
                          example: unpaid
                        userId:
                          type: object
                          properties:
                            firstname:
                              type: string
                              example: Jane
                            lastname:
                              type: string
                              example: Smith
                        productId:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Bluetooth Speaker
                            price:
                              type: number
                              example: 45.99
                            size:
                              type: string
                              example: Compact
                            discountPrice:
                              type: number
                              example: 39.99
        '404':
          description: No unpaid orders found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: No unpaid payment orders
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Error message
    
#✅✅✅✅✅✅✅✅✅✅ user order calls ✅✅✅✅✅✅✅✅✅✅✅✅✅✅

  /patiofy/auth/user/order/{id}:
    post:
      tags:
        - Orders
      security:
        - BearerAuth: []
      summary: Create an order
      description: >
        Creates an order for either a single product or multiple items from the cart.  
        The `id` parameter accepts a single product ID or multiple cart item IDs separated by commas.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Single product ID or comma-separated cart IDs
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - phone
                - total_pay
                - email
                - payment_mode
              properties:
                email:
                  type: string
                  example: user@example.com
                phone:
                  type: string
                  example: "+919876543210"
                country:
                  type: string
                  example: "India"
                firstname:
                  type: string
                  example: "John"
                lastname:
                  type: string
                  example: "Doe"
                address:
                  type: string
                  example: "123 Main St"
                city:
                  type: string
                  example: "Mumbai"
                state:
                  type: string
                  example: "Maharashtra"
                Bcountry:
                  type: string
                  example: "India"
                Bfirstname:
                  type: string
                  example: "Jane"
                Blastname:
                  type: string
                  example: "Smith"
                Baddress:
                  type: string
                  example: "456 Market Road"
                Bcity:
                  type: string
                  example: "Delhi"
                Bstate:
                  type: string
                  example: "Delhi"
                Bphone:
                  type: string
                  example: "+919812345678"
                quantity:
                  type: integer
                  example: 2
                size:
                  type: string
                  example: "M"
                total_pay:
                  type: number
                  example: 1999.99
                payment_mode:
                  type: string
                  enum: [online, cod]
                  example: "online"
                saveNextTime:
                  type: boolean
                  example: true
      responses:
        '200':
          description: Order placed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Order process completed
                  razorpay_orderId:
                    type: string
                    example: "order_Izvx1234567890"
                  successfulOrders:
                    type: array
                    items:
                      type: object
                    description: List of successfully created orders
                  failedItems:
                    type: array
                    items:
                      type: object
                      properties:
                        cartId:
                          type: string
                        reason:
                          type: string
        '400':
          description: Missing or invalid inputs
        '401':
          description: Unauthorized or invalid payment/quantity
        '404':
          description: Product, cart item, or matrix not found
        '500':
          description: Internal server error
    get:
      summary: Get an order by ID
      description: Retrieves a specific order by ID if it belongs to the authenticated user.
      operationId: getOrderById
      tags:
        - Orders
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          description: MongoDB Order ID
          required: true
          schema:
            type: string
            example: 665f4a1848f00a4db8a325df
      responses:
        '200':
          description: Order retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Order retrieved successfully
                  data:
                    $ref: '#/components/schemas/Order'
        '401':
          description: Invalid Order ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: invalid order ID
                  error:
                    type: string
                    example: UnAuthorized
        '403':
          description: User not authorized to access this order
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: you are not authorized
                  error:
                    type: string
                    example: UnAuthorized
        '404':
          description: Order not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Order not Found
                  error:
                    type: string
                    example: Not Found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some server error message

  /patiofy/auth/user/order/lastaddress:
    get:
      summary: Get the latest saved addresses of the authenticated user
      tags:
        - Orders
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Latest address(es) fetched successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Address found Successfully
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Address'
        '404':
          description: Address not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Address not found
                  error:
                    type: string
                    example: Not Found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
      # components:
      #  schemas:
      #    Address:
      #      type: object
      #      properties:
      #        _id:
      #          type: string
      #          example: 661a0e2f123abc4567890def
      #        userId:
      #          type: string
      #          example: 661a0d1e123abc4567890dea
      #        country:
      #          type: string
      #          example: India
      #        firstname:
      #          type: string
      #          example: John
      #        lastname:
      #          type: string
      #          example: Doe
      #        address:
      #          type: string
      #          example: 123 Main Street
      #        city:
      #          type: string
      #          example: Mumbai
      #        state:
      #          type: string
      #          example: Maharashtra
      #        phone:
      #          type: string
      #          example: "+919876543210"

  /patiofy/auth/user/order/myorders:
    get:
      summary: Retrieve all orders for a user
      tags:
        - Orders
      security:
        - BearerAuth: []
      description: Fetches all orders associated with the authenticated user.
      produces:
        - application/json
      responses:
        '200':
          description: Successful retrieval of orders
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: true
              cached:
                type: boolean
                example: false
              data:
                type: array
                items:
                  type: object
                  properties:
                    orderId:
                      type: string
                      example: "12345"
                    productId:
                      type: string
                      example: "67890"
                    quantity:
                      type: integer
                      example: 2
                    totalPrice:
                      type: number
                      format: float
                      example: 19.99
        '404':
          description: No orders found
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              message:
                type: string
                example: "order are empty"
              error:
                type: string
                example: "Not Found"
        '500':
          description: Internal server error
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              message:
                type: string
                example: "Internal Server Error"
              error:
                type: object
                properties:
                  name:
                    type: string
                    example: "Error"
                  message:
                    type: string
                    example: "Detailed error message"
         
  /patiofy/auth/user/order/cancel/{id}:
    put:
      summary: Cancel an order by ID
      tags:
        - Orders
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Order ID (MongoDB ObjectId)
      responses:
        '200':
          description: Order cancelled successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: order cancelled successfully
        '401':
          description: Invalid Object ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: invalid ID
        '404':
          description: Order not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: order not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string

  /patiofy/auth/user/order/shipaddress/{id}:
    put:
      tags:
        - Orders
      security:
        - BearerAuth: []
      summary: Add shipping address to an order
      description: Updates the given order with a shipping address by address ID.
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the order
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - addressId
              properties:
                addressId:
                  type: string
                  example: "6627b859c7d8cd87487c7e55"
      responses:
        200:
          description: Shipping address added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: shipping address added successfully
        400:
          description: Bad request (missing or invalid ID)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: invalid ID
                  error:
                    type: string
                    example: Bad Request
        404:
          description: Order or address not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: order not found
                  error:
                    type: string
                    example: Not Found
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some internal error message

  /patiofy/auth/user/order/billaddress/{id}:
    put:
      tags:
        - Orders
      security:
        - BearerAuth: []
      summary: Add billing address to an order
      description: Updates an order with a billing address using the given address ID.
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the order
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - addressId
              properties:
                addressId:
                  type: string
                  example: "6627b859c7d8cd87487c7e55"
      responses:
        200:
          description: Billing address added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: billing address added successfully
        400:
          description: Bad request (missing or invalid ID)
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: invalid ID
                  error:
                    type: string
                    example: Bad Request
        404:
          description: Order or address not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: order not found
                  error:
                    type: string
                    example: Not Found
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some internal error message

  /patiofy/auth/user/order/verify-payment:
    post:
      summary: Verify Razorpay payment
      tags:
        - Payments
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - razorpay_order_id
                - razorpay_payment_id
                - razorpay_signature
              properties:
                razorpay_order_id:
                  type: string
                  example: order_LWzn7Wq8W5FDFt
                razorpay_payment_id:
                  type: string
                  example: pay_LWznP45gy7B7El
                razorpay_signature:
                  type: string
                  example: 9e2e0a85a0f5e4cc8e5c254c7f7e5cb5aa15c20d59d2d86c1a...
      responses:
        '200':
          description: Payment verified successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Payment verified successfully
                  data:
                    type: object
                    description: Updated order document
        '400':
          description: Bad request due to invalid signature or order ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Payment signature verification failed
                  error:
                    type: string
                    example: Bad Request
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal server error
                  error:
                    type: string
                    example: Signature generation failed


#✅✅✅✅✅✅✅✅✅ Admin product matrix ✅✅✅✅✅✅✅✅✅✅✅✅✅
  /patiofy/auth/admin/matrix/{id}:
    post:
      tags:
        -  Admin Product Matrix
      security:
        - BearerAuth: []
      summary: Create a product matrix entry
      description: Creates a size-specific stock and pricing matrix for a product.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Product ID (MongoDB ObjectId)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - original_price
                - selling_price
                - size
                - stock
              properties:
                original_price:
                  type: number
                  example: 999
                selling_price:
                  type: number
                  example: 799
                size:
                  type: string
                  example: "M"
                stock:
                  type: integer
                  example: 10
      responses:
        '200':
          description: Product matrix created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product matrix created successfully
        '400':
          description: Bad Request
        '401':
          description: Unauthorized or Validation Error
        '404':
          description: Product not found
        '500':
          description: Internal Server Error
    get:
      tags:
        -  Admin Product Matrix
      security:
        - BearerAuth: []
      summary: Get product matrix by product ID
      description: Retrieves all matrix entries (size, stock, prices) associated with a specific product ID.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Product ID (MongoDB ObjectId)
      responses:
        '200':
          description: Product matrix retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product matrix retrieved successfully
                  matrix:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: "665f48f7b6e3b9a3a5f21abc"
                        productId:
                          type: string
                          example: "665f487bb6e3b9a3a5f21aaf"
                        size:
                          type: string
                          example: "M"
                        stock:
                          type: integer
                          example: 10
                        original_price:
                          type: number
                          example: 999
                        selling_price:
                          type: number
                          example: 799
        '400':
          description: Invalid Product ID
        '404':
          description: Product or matrix not found
        '500':
          description: Internal Server Error
    delete:
      tags:
        -  Admin Product Matrix
      security:
        - BearerAuth: []
      summary: Delete a product matrix entry
      description: Deletes a specific product matrix (size/stock info) by its matrix ID.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Product Matrix ID (MongoDB ObjectId)
      responses:
        '200':
          description: Product matrix deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product matrix deleted successfully
        '400':
          description: Invalid ID or matrix not found
        '404':
          description: Product or matrix not found
        '500':
          description: Internal Server Error

  /patiofy/auth/admin/matrix/update:
    patch:
      tags:
        -  Admin Product Matrix
      security:
        - BearerAuth: []
      summary: Update a product matrix
      description: Updates original price, selling price, or stock of an existing product matrix.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Matrix ID (MongoDB ObjectId)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                original_price:
                  type: number
                  example: 999
                selling_price:
                  type: number
                  example: 799
                stock:
                  type: integer
                  example: 20
              example:
                original_price: 999
                selling_price: 799
                stock: 20
      responses:
        '200':
          description: Product matrix updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: product matrix updated successfully
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                  error:
                    type: string
        '401':
          description: Unauthorized or Invalid ID
        '404':
          description: Product or Matrix not found
        '500':
          description: Internal Server Error
#✅✅✅✅✅✅✅✅✅✅✅ Admin Calls ✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅

  patiofy/auth/admin/login:
    post:
      tags:
        - Admin
      security:
        - BearerAuth: []
      summary: Admin Login
      description: Authenticates an admin and returns a JWT token if credentials are valid.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: ajay@example.com
                password:
                  type: string
                  format: password
                  example: SecurePass123
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: login successfully
                  JWTtoken:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                  username:
                    type: string
                    example: Ajay Kumar
                  userID:
                    type: string
                    example: 60d0fe4f5311236168a109ca
                  role:
                    type: string
                    example: admin
        '400':
          description: Missing email or password
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: all fileds are required
                  error:
                    type: string
                    example: Bad Request
        '401':
          description: Invalid email or password
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Incorrect Email
                  error:
                    type: string
                    example: Bad Request
        '402':
          description: Account inactive
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Account is Inactive please verify
                  error:
                    type: string
                    example: Bad Request
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Something went wrong

  patiofy/auth/admin/update:
     patch:
      tags:
        - Admin
      security:
        - BearerAuth: []
      summary: Update Admin Profile
      description: Allows an authenticated admin to update their profile details.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstname:
                  type: string
                  example: Ajay
                lastname:
                  type: string
                  example: Kumar
                phone:
                  type: string
                  example: "+91-9876543210"
                Address:
                  type: string
                  example: "123 Main St, New Delhi, India"
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Profile updated successfully
                  updatedUser:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 60d0fe4f5311236168a109ca
                      firstname:
                        type: string
                        example: Ajay
                      lastname:
                        type: string
                        example: Kumar
                      phone:
                        type: string
                        example: "+91-9876543210"
                      Address:
                        type: string
                        example: "123 Main St, New Delhi, India"
                      email:
                        type: string
                        example: ajay@example.com
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Something went wrong    

  patiofy/auth/admin/password/update:
    patch:
      tags:
        - Admin
      security:
        - BearerAuth: []
      summary: Change Admin Password
      description: Allows an authenticated admin to change their password.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - oldpassword
                - newpassword
              properties:
                oldpassword:
                  type: string
                  format: password
                  example: OldPassword123
                newpassword:
                  type: string
                  format: password
                  example: NewSecurePassword456
      responses:
        '204':
          description: Password updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: password updated successfully, Please Login
        '400':
          description: Missing fields
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: all fields are required
        '401':
          description: Incorrect old password
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: incorrect password
                  error:
                    type: string
                    example: Bad Request
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: user does not exist
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: Internal Server Error
                  error:
                    type: string
                    example: Some error message 

  patiofy/auth/admin/profile:
    get:
      summary: Get user by ID
      description: |
        This endpoint retrieves a user's details by their unique ID.
      tags:
        - Admin
      security:
        - BearerAuth: [] 
      responses:
        "200":
          description: User details retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  user:
                    type: object
                    description: The user object containing details.
                    properties:
                      _id:
                        type: string
                        example: "65a2d5e2f1c3a12b34f6a789"
                      name:
                        type: string
                        example: "John Doe"
                      email:
                        type: string
                        example: "johndoe@example.com"
        "404":
          description: User not found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "User not found"
        "500":
          description: Internal server error.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  error:
                    type: string
                    example: "Internal Server Error"























































